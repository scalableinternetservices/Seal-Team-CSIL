<% content_for :javascript_includes do %>
    <%= javascript_include_tag "map.js" %>
<% end %>

<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="assets/css/bootstrap-responsive.css" rel="stylesheet">


<h1 class='center'> Hello, you have reached the home page! </h1>

<!-- <div style='width: 1000px;'>
    <div id="map" style='width: 1000px; height: 400px; background-position: center;'></div>
</div> -->

<div class="map_container">
    <div id="map_canvas" class="map_canvas"></div>
</div>

<div class="side_bar">
    <button id="b1" class="side_bar_button" >Button 1</button>
    <button id="b2" class="side_bar_button" >Button 2</button>

<!-- NEED TO FIX -->
<!-- Need to set the variable clicked from the dropdown menu to the food type
  -->
    <div class="dropdown">
        <button id="side_bar_food_type" class="side_bar_button" type="button" data-toggle="dropdown">Food Type
        <span class="caret"></span></button>
        <ul class="dropdown-menu" border="none">
            <li type="button" onclick="myFunction( 'Asian' )" class="side_bar_dropdown">Asian</li>
            <li type="button" onclick="myFunction( 'American' )" class="side_bar_dropdown">American</li>
            <li type="button" onclick="myFunction( 'French' )" class="side_bar_dropdown">French</li>
            <li type="button" onclick="myFunction( 'Italian' )" class="side_bar_dropdown">Italian</li>
            <li type="button" onclick="myFunction( 'Mexican' )" class="side_bar_dropdown">Mexican</li>
        </ul>
    </div>

</div>

<script type="text/javascript">
    function myFunction( s ) {

        document.getElementById( "side_bar_food_type" ).innerHTML = s + '<span class="caret"></span>';
    }

</script>

<script type="text/javascript">
    <% if @lat.present? && @lng.present?%>
        getViewerLocation(<%= @lat %>, <%= @lng %>);
    <% else %>
        findUser();
    <% end %>
</script>
